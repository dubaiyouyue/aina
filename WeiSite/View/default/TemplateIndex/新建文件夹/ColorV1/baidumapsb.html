  <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.2"></script>
  <script type="text/javascript" src="http://api.map.baidu.com/library/GeoUtils/1.2/src/GeoUtils_min.js"></script>

  <div style="width:100%;height:300px;margin:auto;display:none;" id="container"></div>
<div id="result">0</div>

<script type="text/javascript">
  var map = new BMap.Map("container");
  var pt = new BMap.Point(108.3763,22.837387);
  var mkr = new BMap.Marker(pt);
  var ply; //多边形
  map.centerAndZoom(pt, 13);
  map.enableScrollWheelZoom(); //开启滚动缩放
  map.enableContinuousZoom(); //开启缩放平滑
  //初始化为多边形1
  polygon1();
  //生成多边形1
  function polygon1() {
    var pts = [];
    var pt1 = new BMap.Point(108.380557,22.850925);
    var pt2 = new BMap.Point(108.344768,22.835471);
    var pt3 = new BMap.Point(108.3383,22.841466);
    var pt4 = new BMap.Point(108.319328,22.834139);
    var pt5 = new BMap.Point(108.332839,22.804558);
	

          var pt6 = new BMap.Point(108.354829,22.799627);
          var pt7 = new BMap.Point(108.354685,22.792164);
          var pt8 = new BMap.Point(108.339307,22.781502);
          var pt9 = new BMap.Point(108.339163,22.778436);
          var pt10 = new BMap.Point(108.347643,22.774837);
          var pt11 = new BMap.Point(108.384294,22.79443);
          var pt12 = new BMap.Point(108.39148,22.82308);
          var pt13 = new BMap.Point(108.380269,22.851324);
          var pt14 = new BMap.Point(108.380269,22.851324);
          var pt15 = new BMap.Point(108.380269,22.851324);
	
	
	
	
	
	
	
    pts.push(pt1);
    pts.push(pt2);
    pts.push(pt3);
    pts.push(pt4);
    pts.push(pt5);
	
    pts.push(pt6);
    pts.push(pt7);
    pts.push(pt8);
    pts.push(pt9);
    pts.push(pt10);
	
    pts.push(pt11);
    pts.push(pt12);
    pts.push(pt13);
    pts.push(pt14);
    pts.push(pt15);
	
	
    ply = new BMap.Polygon(pts);
    //演示：将面添加到地图上
    map.clearOverlays();
    map.addOverlay(ply);
  }
  
  //map.addEventListener("click", function (e) {
    mkr.setPosition(map.addEventListener.point);
    map.addOverlay(mkr);
    //将点击的点的坐标显示在页面上
    //document.getElementById("lng").value = '116.410926';//e.point.lng;
    //document.getElementById("lat").value = '39.917089';//e.point.lat;
    InOrOutPolygon('<?php echo $dzs['0']['lng'];?>', '<?php echo $dzs['0']['lat'];?>');
  //});
  function InOrOutPolygon(lng, lat){
    var pt = new BMap.Point(lng, lat);
    var result = BMapLib.GeoUtils.isPointInPolygon(pt, ply);
    if (result == true) {
      document.getElementById("result").innerHTML = 1;//"点在多边形内";
    } else {
      document.getElementById("result").innerHTML = 0;//"点在多边形外";
    }
  }
</script> 